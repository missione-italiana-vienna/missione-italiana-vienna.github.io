var events = 
[
	{
		'date': '1 Gennaio 2020',
		'content': 
		[
			{
				'description': '<b>Solennità di Maria Madre di Dio</b>'
			},
			{
				'time': '11:30',
				'description': 'S. Messa.'
			}
		],
	},
	{
		'date': '3 Gennaio 2020',
		'content':
		[
			{
				'time': '12:00 - 18:30 (*)',
				'description': 'Adorazione Eucaristica in silenzio. Siete invitati a vegliare in preghiera quanto tempo volete e riuscite.'
			},
			{
				'time': '18:30 - 19:30 (*)',
				'description': 'S. Messa in tedesco.'
			},
			{
				'time': '19:30 - 24:00 (*)',
				'description': 'Adorazione Eucaristica in silenzio. Siete invitati a vegliare in preghiera quanto tempo volete e riuscite. Dalle 21:00 alle 22:00 l\'Adorazione Eucaristica è animata dai frati francescani con canti di preghiera (in tedesco).'
			},
			{
				'type': 'comment',
				'description': '(*) = nella cappella di Sant\'Antonio, entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},	
	{
		'date': '4 Gennaio 2020',
		'content':
		[
			{
				'time': '14:30 - 16:30 (*)',
				'description': 'Confessioni.'
			},
			{
				'time': '16:30 (*)',
				'description': 'recita del Rosario.'
			},
			{
				'time': '17:00 (*)',
				'description': 'Messa prefestiva.'
			},
			{
				'type': 'comment',
				'description': '(*) = nella cappella di Sant\'Antonio, entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '5 Gennaio 2020',
		'content': 
		[
			{
				'time': '11:30',
				'description': 'S. Messa.'
			}
		]
	},
	{
		'date': '6 Gennaio 2020',
		'content': 
		[
			{
				'description': '<b>Epifania del Signore</b>'
			},
			{
				'time': '11:30',
				'description': 'S. Messa.'
			}
		]
	},
	{
		'date': '8 Gennaio 2020',
		'content':
		[
			{
				'time': 'dalle 19:00 (*)',
				'description': 'Adorazione Eucaristica in silenzio. Siete invitati a vegliare in preghiera quanto tempo volete e riuscite.'
			},
			{
				'type': 'comment',
				'description': '(*) = nella cappella di Sant\'Antonio, entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},	


	{
		'date': '11 Gennaio 2020',
		'content':
		[
			{
				'time': '14:30 - 16:30 (*)',
				'description': 'Confessioni.'
			},
			{
				'time': '16:30 (*)',
				'description': 'recita del Rosario.'
			},
			{
				'time': '17:00 (*)',
				'description': 'Messa prefestiva.'
			},
			{
				'type': 'comment',
				'description': '(*) = nella cappella di Sant\'Antonio, entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '12 Gennaio 2020',
		'content': 
		[
			{
				'time': '10:00 - 11:30',
				'style': 'font-weight: bold; color: red;',
				'description': '<b>incontro di catechismo</b> (entrata dal numero civico 17 di fianco alla chiesa).'
			},
			{
				'time': '11:30',
				'description': 'S. Messa.'
			},
			{
				'time': '12:30',
				'style': 'font-weight: bold; color: red;',
				'description': 'Dopo la S. Messa ci troviamo nella sala parrocchiale per l\'Agape della comunità.'
			}
		]
	},
	{
		'date': '18 Gennaio 2020',
		'content':
		[
			{
				'time': '10:00 - 18:00',
				'style': 'font-weight: bold; color: red;',
				'description': '<b>ritiro per i bambini del gruppo della <i>Prima Comunione 2020</i>.</b>	'
			},
			{
				'time': '14:30 - 16:30 (*)',
				'description': 'Confessioni.'
			},
			{
				'time': '16:30 (*)',
				'description': 'recita del Rosario.'
			},
			{
				'time': '17:00 (*)',
				'description': 'Messa prefestiva.'
			},
			{
				'type': 'comment',
				'description': '(*) = nella cappella di Sant\'Antonio, entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '19 Gennaio 2020',
		'content': 
		[
			{
				'time': '11:30',
				'description': 'S. Messa.'
			}
		]
	},
	{
		'date': '20 Gennaio 2020',
		'content':
		[
			{
				'time': '19:00',
				'description': '<a class = "normal_link" href = "https://mcivienna.org/attivita/#lectio_divina">Lectio Divina</a> per giovani e giovani adulti (<a class = "normal_link" href = "https://mcivienna.org/attivita/lectio_divina/2020-01-20/">testo qui</a>). Entrata da Alser Straße 17.'
			}
		]
	},
	{
		'date': '25 Gennaio 2020',
		'content':
		[
			{
				'time': '14:30 - 16:30 (*)',
				'description': 'Confessioni.'
			},
			{
				'time': '16:30 (*)',
				'description': 'recita del Rosario.'
			},
			{
				'time': '17:00 (*)',
				'description': 'Messa prefestiva.'
			},
			{
				'type': 'comment',
				'description': '(*) = nella cappella di Sant\'Antonio, entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '26 Gennaio 2020',
		'content': 
		[
			{
				'time': '10:00 - 11:30',
				'style': 'font-weight: bold; color: red;',
				'description': '<b>incontro di catechismo</b> (entrata dal numero civico 17 di fianco alla chiesa).'
			},
			{
				'time': '11:30',
				'description': 'S. Messa.'
			}
		]
	},
	{
		'date': '27 Gennaio 2020',
		'content':
		[
			{
				'time': '18:30 - 20:00',
				'description': 'Incontro del Gruppo Giovani 18 - 25 anni (entrata dal numero civico di Alser Straße 17, a destra della chiesa).'
			}
		]
	},
	{
		'date': '29 Gennaio 2020',
		'content':
		[
			{
				'time': '19:00 - 20:00',
				'description': 'Adorazione Eucaristica.'
			},
			{
				'type': 'comment',
				'description': '(*) = nella cappella di Sant\'Antonio, entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '1 Febbraio 2020',
		'content':
		[
			{
				'time': '14:30 - 16:30 (*)',
				'description': 'Confessioni.'
			},
			{
				'time': '16:30 (*)',
				'description': 'recita del Rosario.'
			},
			{
				'time': '17:00 (*)',
				'description': 'Messa prefestiva.'
			},
			{
				'type': 'comment',
				'description': '(*) = nella cappella di Sant\'Antonio, entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '2 Febbraio 2020',
		'content': 
		[
			{
				'time': '11:30',
				'description': 'S. Messa.'
			}
		]
	},
	{
		'date': '8 Febbraio 2020',
		'content':
		[
			{
				'time': '14:30 - 16:30 (*)',
				'description': 'Confessioni.'
			},
			{
				'time': '16:30 (*)',
				'description': 'recita del Rosario.'
			},
			{
				'time': '17:00 (*)',
				'description': 'Messa prefestiva.'
			},
			{
				'type': 'comment',
				'description': '(*) = nella cappella di Sant\'Antonio, entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '9 Febbraio 2020',
		'content': 
		[
			{
				'time': '11:30',
				'description': 'S. Messa.'
			},
			{
				'time': '12:30',
				'style': 'font-weight: bold; color: red;',
				'description': 'Dopo la S. Messa ci troviamo nella sala parrocchiale per l\'Agape della comunità.'
			}
		]
	},
	{
		'date': '10 Febbraio 2020',
		'content': 
		[
			{
				'time': '19:30',
				'description': '<a class = "normal_link" href = "https://mcivienna.org/attivita/#lectio_divina">Lectio Divina</a> per adulti (gruppo donne). L\'incontro si tiene nella sala parrocchiale (entrata da Alser Straße 17).'
			}
		]
	},
	{
		'date': '15 Febbraio 2020',
		'content':
		[
			{
				'time': '14:30 - 16:30 (*)',
				'description': 'Confessioni.'
			},
			{
				'time': '16:30 (*)',
				'description': 'recita del Rosario.'
			},
			{
				'time': '17:00 (*)',
				'description': 'Messa prefestiva.'
			},
			{
				'type': 'comment',
				'description': '(*) = nella cappella di Sant\'Antonio, entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '16 Febbraio 2020',
		'content': 
		[
			{
				'time': '11:30',
				'description': 'S. Messa.'
			}
		]
	},
	{
		'date': '17 Febbraio 2020',
		'content':
		[
			{
				'time': '19:00',
				'description': '<a class = "normal_link" href = "https://mcivienna.org/attivita/#lectio_divina">Lectio Divina</a> per giovani e giovani adulti (<a class = "normal_link" href = "https://mcivienna.org/attivita/lectio_divina/2020-02-17/">testo qui</a>). Entrata da Alser Straße 17.'
			}
		]
	},
	{
		'date': '20 Febbraio 2020',
		'content':
		[
			{
				'time': '18:30 - 20:00',
				'description': 'Incontro del Gruppo Giovani 18 - 25 anni (entrata dal numero civico di Alser Straße 17, a destra della chiesa).'
			}
		]
	},
	{
		'date': '22 Febbraio 2020',
		'content':
		[
			{
				'time': '14:30 - 16:30 (*)',
				'description': 'Confessioni.'
			},
			{
				'time': '16:30 (*)',
				'description': 'recita del Rosario.'
			},
			{
				'time': '17:00 (*)',
				'description': 'Messa prefestiva.'
			},
			{
				'type': 'comment',
				'description': '(*) = nella cappella di Sant\'Antonio, entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '23 Febbraio 2020',
		'content': 
		[
			{
				'time': '11:30',
				'description': 'S. Messa.'
			}
		]
	},
	{
		'date': '26 Febbraio 2020',
		'content':
		[
			{
				'description': '<b>Mercoledì delle Ceneri</b>'
			},
			{
				'time': '19:30 (*)',
				'description': 'S. Messa.'
			},
			{
				'type': 'comment',
				'description': '(*) = nella cappella di Sant\'Antonio, entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '28 Febbraio 2020',
		'content':
		[
			{
				'time': '19:00 (*)',
				'description': 'Via Crucis in tedesco. La Via Crucis si svolge al termine della Messa in tedesco (che si tiene nella cappella di Sant\'Antonio).'
			},
			{
				'type': 'comment',
				'description': '(*) = entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '29 Febbraio 2020',
		'content':
		[
			{
				'time': '14:30 - 16:30 (*)',
				'description': 'Confessioni.'
			},
			{
				'time': '16:30 (*)',
				'description': 'recita del Rosario.'
			},
			{
				'time': '17:00 (*)',
				'description': 'Messa prefestiva.'
			},
			{
				'type': 'comment',
				'description': '(*) = nella cappella di Sant\'Antonio, entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '1 Marzo 2020',
		'content': 
		[
			{
				'description': '<b>prima Domenica di Quaresima</b>'
			},
			{
				'time': '11:30',
				'description': 'S. Messa.'
			}
		]
	},
	{
		'date': '5 Marzo 2020',
		'content': 
		[
			{
				'time': '19:30',
				'description': '<a class = "normal_link" href = "https://mcivienna.org/attivita/#lectio_divina">Lectio Divina</a> per adulti (gruppo donne). L\'incontro si tiene nella sala parrocchiale (entrata da Alser Straße 17).'
			}
		]
	},
	{
		'date': '6 Marzo 2020',
		'content':
		[
			{
				'time': '19:00 (*)',
				'description': 'Via Crucis in tedesco. La Via Crucis si svolge al termine della Messa in tedesco (che si tiene nella cappella di Sant\'Antonio).'
			},
			{
				'type': 'comment',
				'description': '(*) = entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '7 Marzo 2020',
		'content':
		[
			{
				'time': '14:30 - 16:30 (*)',
				'description': 'Confessioni.'
			},
			{
				'time': '16:30 (*)',
				'description': 'recita del Rosario.'
			},
			{
				'time': '17:00 (*)',
				'description': 'Messa prefestiva.'
			},
			{
				'type': 'comment',
				'description': '(*) = nella cappella di Sant\'Antonio, entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '8 Marzo 2020',
		'content': 
		[
			{
				'description': '<b>seconda Domenica di Quaresima</b>'
			},
			{
				'time': '11:30',
				'description': 'S. Messa.'
			},
			{
				'time': '12:30',
				'style': 'font-weight: bold; color: red;',
				'description': '<b>NOTA: gli incontri del catechismo e dell\'Agape di questa Domenica sono annullati.</b>'
			}
		]
	},
	{
		'date': '13 Marzo 2020',
		'content':
		[
			{
				'time': '19:00 (*)',
				'description': 'Via Crucis in tedesco. La Via Crucis si svolge al termine della Messa in tedesco (che si tiene nella cappella di Sant\'Antonio).'
			},
			{
				'type': 'comment',
				'description': '(*) = entrata dal numero civico 17 di fianco alla Chiesa. Se avete bisogno di assistenza con passeggini o sedie a rotelle, contattate per favore in anticipo padre Thomas.'
			}
		]
	},
	{
		'date': '14 Marzo 2020',
		'content':
		[
			{
				'time': '16:30',
				'description': 'recita del Rosario.'
			},
			{
				'time': '17:00',
				'description': 'Messa prefestiva. <b>NOTA: a differenza del solito, la Messa si svolve nella chiesa grande e non nella cappella di Sant\'Antonio.</b> Vi preghiamo anche di leggere il messaggio di padre Thomas per l\'emergenza COVID-19 (coronavirus) a <a target = _blank rel = "noopener" class = "normal_link" href = "https://mcivienna.org/blog/2020/03/12/covid-19/">questo link</a>.'
			},
		]
	},
	{
		'date': '15 Marzo 2020',
		'content': 
		[
			{
				'description': '<b>terza Domenica di Quaresima</b>'
			},
			{
				'time': '11:30',
				'description': 'S. Messa. <b>NOTA: l\'incontro di catechismo è annullato.</b> Vi preghiamo anche di leggere il messaggio di padre Thomas per l\'emergenza COVID-19 (coronavirus) a <a target = _blank rel = "noopener" class = "normal_link" href = "https://mcivienna.org/blog/2020/03/12/covid-19/">questo link</a>.'
			}
		]
	},

	// interruzione delle celebrazioni con l'assemblea (e di tutti gli altri eventi "in persona" con i vari gruppi a causa dell'emergenza covid-19)
	
	{
		'date': '16 Maggio 2020',
		'content':
		[
			{
				'time': '17:00',
				'description': 'S. Messa prefestiva (nota: questa Messa si svolgerà in chiesa e non nella cappella di Sant\'Antonio).'
			},
		]
	},
	{
		'date': '17 Maggio 2020',
		'content': 
		[
			{
				'time': '11:30',
				'description': 'S. Messa.'
			}
		]
	},

	{
		'date': '21 Maggio 2020',
		'content': 
		[
			{
				'description': '<b>Ascensione del Signore</b> (non verrà celebrata nessuna Messa prefestiva)'
			},
			{
				'time': '11:30',
				'description': 'S. Messa.'
			},
			{
				'time': '16:30',
				'description': 'S. Messa.'
			}
		]
	},

	{
		'date': '23 Maggio 2020',
		'content':
		[
			{
				'time': '17:00',
				'description': 'S. Messa prefestiva (nota: questa Messa si svolgerà in chiesa e non nella cappella di Sant\'Antonio).'
			},
		]
	},
	{
		'date': '24 Maggio 2020',
		'content': 
		[
			{
				'time': '11:30',
				'description': 'S. Messa.'
			}
		]
	},
	{
		'date': '30 Maggio 2020',
		'content':
		[
			{
				'time': '17:00',
				'description': 'S. Messa prefestiva (nota: questa Messa si svolgerà in chiesa e non nella cappella di Sant\'Antonio).'
			},
		]
	},
	{
		'date': '31 Maggio 2020',
		'content': 
		[
			{
				'description': '<b>Domenica di Pentecoste</b>'
			},
			{
				'time': '11:30',
				'description': 'S. Messa.'
			},
			{
				'time': '16:30',
				'description': 'S. Messa.'
			}
		]
	},
	{
		'date': '1 Giugno 2020',
		'content': 
		[
			{
				'description': '<b>Lunedì di Pentecoste</b>'
			},
			{
				'time': '11:30',
				'description': 'S. Messa.'
			}
		]
	},
	{
		'date': '6 Giugno 2020',
		'content':
		[
			{
				'time': '17:00',
				'description': 'S. Messa prefestiva (nota: questa Messa si svolgerà in chiesa e non nella cappella di Sant\'Antonio).'
			},
		]
	},
	{
		'date': '7 Giugno 2020',
		'content': 
		[
			{
				'time': '11:30',
				'description': 'S. Messa (nota: non ci sarà nessuna Messa alle 16:30 nelle prossime settimane).'
			},
		]
	},
	{
		'date': '11 Giugno 2020',
		'content': 
		[
			{
				'description': '<b>Corpus Domini</b>'
			},
			{
				'time': '11:30',
				'description': 'S. Messa (nota: non ci sarà nessuna Messa prefestiva).'
			},
		]
	},
	{
		'date': '13 Giugno 2020',
		'content':
		[
			{
				'time': '17:00',
				'description': 'S. Messa prefestiva (nota: questa Messa si svolgerà in chiesa e non nella cappella di Sant\'Antonio).'
			},
		]
	},
	{
		'date': '14 Giugno 2020',
		'content': 
		[
			{
				'time': '11:30',
				'description': 'S. Messa (nota: non ci sarà nessuna Messa alle 16:30 nelle prossime settimane).'
			},
		]
	},
	/*{
		'multiple_dates': {
			'from': '30 Agosto 2020',
			'to': '2 Settembre 2020'
		},
		'content': 
		[
			{
				'time': '11:30',
				'description': 'S. Messa.'
			}
		]
	},*/

	/*<b>Da Giovedì 30 Aprile a Domenica 3 Maggio</b>: pellegrinaggio a Mariazell.
	
	<b>Da Giovedì 21 Maggio a Domenica 24 Maggio</b>: pellegrinaggio a Padova.
	*/
];


// Do not modify the next lines!

// 2 global arrays, used below
var list_months = ["Gennaio", "Febbraio", "Marzo", "Aprile", "Maggio", "Giugno", "Luglio", "Agosto", "Settembre", "Ottobre", "Novembre", "Dicembre"];
var list_weekdays = ["Domenica", "Lunedì", "Martedì", "Mercoledì", "Giovedì", "Venerdì", "Sabato"];

function generate_html_for_a_given_date(js_content, day, month, weekday) {
		var content = "";

		// compute the content of the event
		for (var j = 0; j < js_content.length; ++j) {
			content += '<tr><td';

			if (js_content[j].hasOwnProperty("style")) {
				content += ' style = "' + js_content[j].style + '"';
			}

			if (js_content[j].hasOwnProperty("time")) {
				content += ' class = "time_event"';
			}
			else {
				content += ' class = "time_event_empty"';
			}
			content += '>'; // this closes '<td' inserted above
			if (js_content[j].hasOwnProperty("time")) {
				content += js_content[j].time;
			}
			
			content += '</td> ' // this closes '<td ... >' already inserted above
			// NOTE: in the string above there's a white space; this is needed for the visualization on
			// small screens, where every td is displayed with "display: inline;"

			content += '<td class = "description_event';
			if (js_content[j].hasOwnProperty("type") && js_content[j].type == "comment") {
				content += ' event_comment';
			}
			content += '">' + js_content[j].description + '</td>'
			content += '</tr>'; // this closes '<tr>' already inserted above
		}

		// Merges the content of the event with the additional infos about the date
		// NOTE: do not remove the white spaces in the strings below: they are needed for the visualization on
		// small screens, where every tr, td and div is displayed with "display: inline;" 
	  return ' <tr class = "events_on_given_day">' + 
	  					'<td class = "date_event">' +
		  					'<div>' + weekday + '</div> '+
		  					'<div>' + day + '</div> '+
		  					'<div>' + month + '</div>' +
		  				'</td>' +
		  				'<td class = "text_event">' +
		  					'<table>' + content + '</table>'+
		  				'</td>' + 
		  			'</tr>';
}


// see https://www.w3schools.com/jsref/jsref_findindex.asp 
// The method findIndex() requires as input value a function returning boolean results:
function FindMonthByName(name_month) {
	return name_month == this;
}

function generate_html_with_all_events(input_string) {
	if (input_string != "future" && input_string != "past") {
		console.log('Wrong input parameter: must be either "future" or "past"');
	}
	else {
		var appointments = "";
		var i, splitted_date, day, month, year, month_number, date_considered, comparison_date, weekday, current_string_date;

		for (i = 0; i < events.length; ++i) {

			// converts the date from the format "10 Gennaio 2019" to the format year=2019, month=0 (months start with 0 in JS), day=10
			current_string_date = events[i].date.trim(); // trims white spaces at the beginning and at the end of the string
			current_string_date = current_string_date.replace(/\s\s+/g, ' '); // replaces (multiple) spaces, tabs etc with single spaces
			splitted_date = current_string_date.split(" "); // splits using single spaces as delimiters
			day = splitted_date[0];
			month = splitted_date[1]; // this is a string of the form "Gennaio", etc (see below)
			year = splitted_date[2];
					
			// Note: the next value will be a number between 0 and 11, thus compatible with the way JS handles months (0 = January for Javascript)

		  month_number = list_months.findIndex(FindMonthByName, month);

		  if (month_number == -1) {
		  	console.log('Error! Month not found in the list: ' + month);
		  	console.log(events[i]);
		  }

		  // starting with the infos about year, month number and date, we create a new date object
			date_considered = new Date(year, month_number, day);

			// we extract the day of the week from the date object
			weekday = list_weekdays[date_considered.getDay()];

			// we set a comparison date
			comparison_date = new Date();  // currenlty it's equal to today, it will be modified below

			if (input_string == "future") {
			  comparison_date.setDate(comparison_date.getDate() - 1); // the comparison date is now equal to yesterday

			  // we consider only those events that are future events, current events, or events not older that yesterday
			  if (date_considered >= comparison_date) {			  
			  	appointments += generate_html_for_a_given_date(events[i].content, day, month, weekday);
				}
			}
			else { // i.e. if input_string == "past"
				// the comparison date is not modified in this case

			  // we consider only those events that are past events
			  if (date_considered < comparison_date) {
			  	// we add events in a reverse order
			  	appointments = generate_html_for_a_given_date(events[i].content, day, month, weekday) + appointments;
				}
			}
		}
		// attach the content of appointments to the appointments_container already defined in the base HTML code
		var appointments_container = document.getElementById("appointments_container");
		appointments_container.innerHTML = appointments;
	}
}